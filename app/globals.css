@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: 0 0% 100%;
  --foreground: 0 0% 9%;
  --primary: 221 83% 53%;
  --primary-foreground: 0 0% 100%;
  --secondary: 210 40% 96%;
  --secondary-foreground: 222 47% 11%;
  --font-hebrew: 'Noto Sans Hebrew', 'Assistant', system-ui, sans-serif;
  --font-arabic: 'Noto Sans Arabic', system-ui, sans-serif;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: 0 0% 4%;
    --foreground: 0 0% 93%;
    --primary: 217 91% 60%;
    --secondary: 217 33% 17%;
    --secondary-foreground: 210 40% 98%;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-hebrew);
}

/* RTL Support */
[dir="rtl"] {
  direction: rtl;
  text-align: right;
}

[dir="ltr"] {
  direction: ltr;
  text-align: left;
}

/* Hebrew and Arabic text styling */
.text-hebrew {
  font-family: var(--font-hebrew);
  direction: rtl;
  text-align: right;
}

.text-arabic {
  font-family: var(--font-arabic);
  direction: rtl;
  text-align: right;
}

/* RTL-safe utility classes */
@layer utilities {
  /* Logical spacing utilities for RTL support */
  .ms-auto {
    margin-inline-start: auto;
  }

  .me-auto {
    margin-inline-end: auto;
  }

  .ps-safe {
    padding-inline-start: var(--spacing, 1rem);
  }

  .pe-safe {
    padding-inline-end: var(--spacing, 1rem);
  }

  /* RTL-aware animations */
  @keyframes slide-in-start {
    from {
      transform: translateX(var(--rtl-direction, -100%));
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  @keyframes slide-in-end {
    from {
      transform: translateX(var(--rtl-direction, 100%));
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  [dir="rtl"] {
    --rtl-direction: 1;
  }

  [dir="ltr"] {
    --rtl-direction: -1;
  }

  /* Animation classes */
  .slide-in-start {
    animation: slide-in-start 0.3s ease-out;
  }

  .slide-in-end {
    animation: slide-in-end 0.3s ease-out;
  }

  /* RTL-aware shadows */
  .shadow-start {
    box-shadow: -4px 0 6px -1px rgba(0, 0, 0, 0.1);
  }

  [dir="rtl"] .shadow-start {
    box-shadow: 4px 0 6px -1px rgba(0, 0, 0, 0.1);
  }

  .shadow-end {
    box-shadow: 4px 0 6px -1px rgba(0, 0, 0, 0.1);
  }

  [dir="rtl"] .shadow-end {
    box-shadow: -4px 0 6px -1px rgba(0, 0, 0, 0.1);
  }

  /* RTL-aware positioning */
  .float-start {
    float: left;
  }

  [dir="rtl"] .float-start {
    float: right;
  }

  .float-end {
    float: right;
  }

  [dir="rtl"] .float-end {
    float: left;
  }

  /* RTL-aware borders */
  .border-s {
    border-inline-start-width: 1px;
  }

  .border-e {
    border-inline-end-width: 1px;
  }

  .border-s-2 {
    border-inline-start-width: 2px;
  }

  .border-e-2 {
    border-inline-end-width: 2px;
  }

  /* RTL-aware rounded corners */
  .rounded-s-lg {
    border-start-start-radius: 0.5rem;
    border-end-start-radius: 0.5rem;
  }

  .rounded-e-lg {
    border-start-end-radius: 0.5rem;
    border-end-end-radius: 0.5rem;
  }

  /* Better line-height for Hebrew text */
  .leading-hebrew {
    line-height: 1.75;
  }

  /* Prevent text from being too tight in Hebrew */
  .tracking-hebrew {
    letter-spacing: 0.01em;
  }
}

/* Ensure inputs and textareas align correctly in RTL */
[dir="rtl"] input,
[dir="rtl"] textarea,
[dir="rtl"] select {
  text-align: right;
}

[dir="rtl"] input[type="email"],
[dir="rtl"] input[type="url"] {
  direction: ltr;
  text-align: left;
}

/* Fix for number inputs in RTL */
[dir="rtl"] input[type="number"] {
  text-align: left;
  direction: ltr;
}

/* Ensure proper scroll behavior in RTL */
[dir="rtl"] {
  scroll-behavior: smooth;
}

/* Fix for horizontal scroll containers */
.scroll-container-rtl {
  overflow-x: auto;
  scrollbar-width: thin;
}

[dir="rtl"] .scroll-container-rtl {
  direction: ltr;
}

[dir="rtl"] .scroll-container-rtl > * {
  direction: rtl;
}
